.node {
  --size: 82px;
  position: relative;
  width: var(--size);
  height: var(--size);
  border: none;
  background: none;
  padding: 0;
  cursor: pointer;
  outline: none;
  transition: transform 140ms ease;
}
.node:focus-visible {
  outline: 2px solid #38bdf8;
  outline-offset: 4px;
  border-radius: 50%;
}
.node:active {
  transform: scale(0.94);
}
.inner {
  width: 100%;
  height: 100%;
  background: linear-gradient(
    145deg,
    rgba(17, 36, 54, 0.9),
    rgba(10, 22, 32, 0.85)
  );
  border: 2px solid rgba(255, 255, 255, 0.08);
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  position: relative;
  color: #e2e8f0;
  box-shadow:
    0 6px 18px -4px rgba(0, 0, 0, 0.55),
    0 2px 6px -2px rgba(0, 0, 0, 0.5);
}
.badge {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #fbbf24, #f59e0b);
  color: #082f49;
  font-weight: 700;
  font-size: 0.75rem;
  padding: 2px 8px 3px;
  border-radius: 999px;
  box-shadow: 0 2px 6px -1px rgba(0, 0, 0, 0.6);
}
.label {
  font-size: 0.55rem;
  font-weight: 600;
  text-align: center;
  line-height: 1.1;
  padding: 0 4px;
}
.stars {
  display: flex;
  gap: 2px;
  font-size: 0.55rem;
}
.star {
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.6));
  opacity: 0.35;
  color: #94a3b8;
}
.star.filled {
  opacity: 1;
  color: #fbbf24;
}

/* States */
.completed .inner {
  border-color: #34d399;
  box-shadow:
    0 0 0 2px rgba(52, 211, 153, 0.15),
    0 8px 24px -6px rgba(16, 185, 129, 0.35);
}
.completed .badge {
  background: linear-gradient(135deg, #34d399, #059669);
  color: #022c22;
}
.current .inner {
  border-color: #38bdf8;
  box-shadow:
    0 0 0 2px rgba(56, 189, 248, 0.2),
    0 8px 24px -6px rgba(14, 165, 233, 0.35);
}
.current .badge {
  background: linear-gradient(135deg, #38bdf8, #0ea5e9);
}
.locked {
  cursor: default;
}
.locked .inner {
  filter: grayscale(0.85) brightness(0.6);
  border-color: rgba(255, 255, 255, 0.08);
}
.locked .badge {
  background: #334155;
  color: #94a3b8;
}
.locked .star.filled {
  color: #475569;
}

/* Pulse ring for current */
.pulse {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.65);
  animation: pulse 2.4s ease-in-out infinite;
}
@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.55);
  }
  70% {
    box-shadow: 0 0 0 18px rgba(56, 189, 248, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0);
  }
}

@media (max-width: 640px) {
  .node {
    --size: 68px;
  }
  .label {
    font-size: 0.5rem;
  }
}

#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "[pre-push] Running E2E tests (Playwright will manage dev server)..."

# Run E2E tests with CI reporter for cleaner output
CI=true npm run test:e2e:ci
TEST_EXIT_CODE=$?

# Exit with test result
if [ $TEST_EXIT_CODE -ne 0 ]; then
  echo "[pre-push] E2E tests failed!"
  exit 1
fi

echo "[pre-push] E2E tests completed successfully!"